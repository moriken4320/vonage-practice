<p>キャンペーン配信画面：サブスクライバー</p>
<p>タイトル：<%= @campaign.title %></p>
<p>セッションID：<%= @campaign.session_id %></p>

<div id="subscriber-wrapper">
    <div id="video-wrapper">
        <div>
            <div id="videos"></div>
            <div id="screen"></div>
        </div>
        <div id="user-interface">
            <div v-if="isBroadcast">
                <div>
                    <div v-if="!vonageHelper.isConnected" style="font-weight: bold;">配信が開始しています。</div>
                    <button @click="connect">{{ connectButtonText }}</button>
                </div>
                <div v-if="vonageHelper.isConnected && !vonageHelper.isPublished">
                    <input type="text" id="user-name" v-model="userName" placeholder="名前を入力">
                    <button @click="handsUp">挙手</button>
                </div>
            </div>
            <div v-else style="font-weight: bold;">配信が開始されるまでお待ちください。</div>
        </div>
        <div id="panelist-area" v-if="vonageHelper.isConnected">
            <div style="font-weight: bold;">パネリスト</div>
            <div v-for="subscriber in vonageHelper.subscribeObjs">
                <label>
                    <input type="radio" name="signal_target" :value="subscriber.stream.connection" v-model="signalText['to']">
                    <span>id: {{ subscriber.stream.connection.id }} , name: {{ subscriber.stream.connection.data }}</span>
                </label>
            </div>
        </div>
        <div id="message-area" v-if="vonageHelper.isConnected">
            <div style="font-weight: bold;">シグナル</div>
            <div>
                <input type="text" placeholder="type" v-model="signalText['type']">
                <input type="text" placeholder="data" v-model="signalText['data']">
                <button @click="sendSignal">送信</button>
            </div>
            <div v-for="signal in vonageHelper.signalObj">type: {{ signal.type }}, data: {{ signal.data }}</div>
        </div>
    </div>
</div>

<script type="text/javascript">
    <%= render "show_subscriber.js" %>
</script>